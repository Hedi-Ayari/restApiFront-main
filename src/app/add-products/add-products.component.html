<!-- Contact Us -->
<div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
  <div class="max-w-2xl lg:max-w-5xl mx-auto">
    <div class="text-center">
      <h1 class="text-3xl font-bold text-gray-800 sm:text-4xl dark:text-white">
        Mange Products
      </h1>
      <p class="mt-1 text-gray-600 dark:text-gray-400">
        We'd love to talk about how we can help you.
      </p>
    </div>

    <div class="mt-12 grid items-center lg:grid-cols-2 gap-6 lg:gap-16">
      <!-- Card -->
      <div
        class="flex flex-col border rounded-xl p-4 sm:p-6 lg:p-8 dark:border-gray-700"
      >
        <h2 class="mb-8 text-xl font-semibold text-gray-800 dark:text-gray-200">
          @if (editMode) { Edit Product }@else { Add Product }
        </h2>

        <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
          <div class="grid gap-4 lg:gap-6">
            <!-- Grid -->
            <div class="grid grid-cols-1 gap-4 lg:gap-6">
              <div>
                <label
                  for="hs-firstname-contacts-1"
                  class="block mb-2 text-sm text-gray-700 font-medium dark:text-white"
                  >Name</label
                >
                <input
                  type="text"
                  name="hs-firstname-contacts-1"
                  formControlName="lib"
                  id="hs-firstname-contacts-1"
                  class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600"
                />
              </div>

              <div>
                <label
                  for="hs-lastname-contacts-1"
                  class="block mb-2 text-sm text-gray-700 font-medium dark:text-white"
                  >Category</label
                >
                <select
                  title="categories "
                  formControlName="categories"
                  class="rounded-full py-3 px-4 pe-9 block w-full border-gray-200 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600"
                >
                  <option value="" selected>Please select a category</option>
                  @for (item of categories; track $index) {
                  <option [value]="item.id_category">
                    {{ item.name }}
                  </option>
                  }
                </select>
              </div>
            </div>
            <!-- End Grid -->

            <!-- Grid -->
            <div class="grid grid-cols-1 gap-4 lg:gap-6">
              <div>
                <label
                  for="hs-email-contacts-1"
                  class="block mb-2 text-sm text-gray-700 font-medium dark:text-white"
                  >Price</label
                >
                <!-- Input Number -->
                <div
                  class="bg-white border border-gray-200 rounded-lg dark:bg-slate-700 dark:border-gray-700"
                  data-hs-input-number
                >
                  <div class="w-full flex justify-between items-center gap-x-1">
                    <div class="grow py-2 px-3">
                      <input
                        class="w-full p-0 bg-transparent border-0 text-gray-800 focus:ring-0 dark:text-white"
                        type="text"
                        value="1"
                        data-hs-input-number-input
                        formControlName="prix"
                      />
                    </div>
                    <div
                      class="flex items-center -gap-y-px divide-x divide-gray-200 border-s border-gray-200 dark:divide-gray-700 dark:border-gray-700"
                    >
                      <button
                        type="button"
                        class="w-10 h-10 inline-flex justify-center items-center gap-x-2 text-sm font-medium last:rounded-e-lg bg-white text-gray-800 hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                        data-hs-input-number-decrement
                      >
                        <i class="pi pi-minus"></i>
                      </button>
                      <button
                        type="button"
                        title="price"
                        class="w-10 h-10 inline-flex justify-center items-center gap-x-2 text-sm font-medium last:rounded-e-lg bg-white text-gray-800 hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                        data-hs-input-number-increment
                      >
                        <i class="pi pi-plus"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <!-- End Input Number -->
              </div>

              <div>
                <label
                  for="hs-phone-number-1"
                  class="block mb-2 text-sm text-gray-700 font-medium dark:text-white"
                  >Quantity</label
                >
                <!-- Input Number -->
                <div
                  class="bg-white border border-gray-200 rounded-lg dark:bg-slate-700 dark:border-gray-700"
                  data-hs-input-number
                >
                  <div class="w-full flex justify-between items-center gap-x-1">
                    <div class="grow py-2 px-3">
                      <input
                        class="w-full p-0 bg-transparent border-0 text-gray-800 focus:ring-0 dark:text-white"
                        type="text"
                        value="1"
                        data-hs-input-number-input
                        formControlName="qte"
                      />
                    </div>
                    <div
                      class="flex items-center -gap-y-px divide-x divide-gray-200 border-s border-gray-200 dark:divide-gray-700 dark:border-gray-700"
                    >
                      <button
                        type="button"
                        class="w-10 h-10 inline-flex justify-center items-center gap-x-2 text-sm font-medium last:rounded-e-lg bg-white text-gray-800 hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                        data-hs-input-number-decrement
                      >
                        <i class="pi pi-minus"></i>
                      </button>
                      <button
                        type="button"
                        title="quantity"
                        class="w-10 h-10 inline-flex justify-center items-center gap-x-2 text-sm font-medium last:rounded-e-lg bg-white text-gray-800 hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                        data-hs-input-number-increment
                      >
                        <i class="pi pi-plus"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <!-- End Input Number -->
              </div>
            </div>
            <!-- End Grid -->
          </div>
          <!-- End Grid -->

          <div class="mt-6 grid">
            <button
              type="submit"
              [disabled]="!productForm.valid"
              class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
            >
              @if (editMode) { Edit Product }@else { Add Product }
            </button>
          </div>

          <div class="mt-3 text-center">
            <p class="text-sm text-gray-500">Enjoy!</p>
          </div>
        </form>
      </div>
      <!-- End Card -->

      <div
        class="divide-y divide-gray-200 dark:divide-gray-800 overflow-y-auto h-[580px] &::-webkit-scrollbar]:w-2"
      >
        <p
          class="mb-8 text-xl text-center font-semibold text-gray-800 dark:text-gray-200"
        >
          Track Products
        </p>

        <!-- Icon Block -->
        @for (item of products; track $index) {
        <div class="flex gap-x-7 py-6">
          <i class="pi pi-table text-white text-lg"></i>
          <div class="grow">
            <h3 class="font-semibold text-gray-800 dark:text-gray-200">
              <span class="font-light"> Product Name: </span> {{ item.lib }}
            </h3>
            <p class="mt-1 text-sm text-gray-500">
              Category: {{ item.categorie.name | uppercase }} / Price:
              {{ item.prix }}$ / Quantity:
              {{ item.qte }}
            </p>
            <button
              class="mt-2 inline-flex items-center gap-x-2 text-sm font-medium text-red-500 hover:text-gray-800 dark:text-red-500 dark:hover:text-gray-200 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
              title="delete"
              (click)="onDelete(item.id_produit)"
            >
              <i class="pi pi-trash text-red-500"></i>
              Delete
            </button>
            <Button
              class="mt-2 ml-4 inline-flex items-center gap-x-2 text-sm font-medium text-blue-500 hover:text-gray-800 dark:text-blue-500 dark:hover:text-gray-200 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
              title="edit"
              (click)="onEdit(item.id_produit)"
            >
              <i class="pi pi-file-edit text-blue-500"></i>
              Edit
            </Button>
          </div>
        </div>
        }

        <!-- End Icon Block -->
      </div>
    </div>
  </div>
</div>
<!-- End Contact Us -->
